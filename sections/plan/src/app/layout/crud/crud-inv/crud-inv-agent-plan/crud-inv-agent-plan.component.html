<app-alert [alertMessage]="alertMessage"></app-alert>



<main class="main">
  <section id="submenu" class="submenu">
    <article class="submenu-buttons">
      <div>
        <a class="btn btn-secondary submenu-btn text-white"
           (click)="onGetAll()">Agentes Planificados</a>
      </div>

       <!-- SELECTOR DE FECHA -->
   
       <form class="form-inline">
          <div class="form-group">
            <div class="input-group">

              <input 
                class="form-control" 
                placeholder="yyyy-mm-dd"
                name="dp" 
                [(ngModel)]="selectedDate" 
                ngbDatepicker #d="ngbDatepicker"
                (click)="d.toggle()"
                >

              <div class="input-group-append">
                <button class="btn btn-success" (click)="onDateChange()" type="button">Ir a fecha</button>
              </div>
              
                 
                
            </div>
          </div>
        </form>

          

    </article>

    
    <article id="right-menu" class="submenu-buttons ml-auto">
     
      <!-- <div>
        <a class="btn btn-outline-primary submenu-btn"
           (click)="onExportToExcel(rows, excel_subtitle)">
          Exportar a excel
        </a>
      </div> -->

      <ng-select [items]="filterFieldList" bindLabel="name" [clearable]="false"
                 [dropdownPosition]="'bottom'" (change)="onFilterFieldList()"
                 hideSelected="true" [(ngModel)]="selectedFilterField"
                 placeholder="items-">
      </ng-select>

      <input type="text" placeholder="Buscar..." [(ngModel)]="findInList"
             (keyup)="onUpdateFilter(findInList)" />

      <ng-select [items]="rowsInTableList" bindLabel="value" [clearable]="false"
                 [dropdownPosition]="'bottom'" hideSelected="true"
                 [(ngModel)]="numberOfRowsInTable" placeholder="items-">
      </ng-select>
    </article>
  </section>
</main>

<section *ngIf="show_datatable && show_data">
  <app-crud-inv-agent-plan-list [rows]="rows"
                           [numberOfRowsInTable]="numberOfRowsInTable"
                           [show_datatable]="show_datatable" [action]="action"
                           (listAnswer)="onlistAnswer($event)">
  </app-crud-inv-agent-plan-list>
</section>

<section *ngIf="!show_datatable && show_data">
  <app-crud-inv-agent-plan-detail [action]="action"
                             (editAnswer)="onlistAnswer($event)">
  </app-crud-inv-agent-plan-detail>
</section>